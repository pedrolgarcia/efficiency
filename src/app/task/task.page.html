<app-header></app-header>

<ion-content padding-bottom padding-horizontal>

  <ion-card color="primary" margin-top>
    <ion-card-header class="page-title" padding text-center>Tarefa</ion-card-header>
    <ion-card-header no-padding padding-horizontal>
      <ion-row align-items-center>
        <ion-col size="12">
          <ion-card-title>{{ task?.name }}</ion-card-title>
          <ion-card-subtitle>
            <ion-badge *ngIf="task?.status.id === 1" color="success">{{ task?.status.status }}</ion-badge>
            <ion-badge *ngIf="task?.status.id === 2" color="danger">{{ task?.status.status }}</ion-badge>
          </ion-card-subtitle>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="4" align-self-center>
          <ion-label>Categoria: </ion-label>
        </ion-col>
        <ion-col size="8" no-padding>
          <ion-item style="border-bottom: 1px solid #fff;">
            <ion-input type="text" [value]="task?.category.category" readonly placeholder="Categoria"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row margin-top>
          <ion-col size="6">
            <ion-label no-margin>Data de Início:</ion-label>
            <ion-item style="border-bottom: 1px solid #fff;">
              <ion-datetime displayFormat="DD/MM/YYYY" [value]="task?.started_at" disabled doneText="OK" cancelText="Cancelar" style="color: #fff;" no-padding></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-label no-margin>Data de Entrega:</ion-label>
            <ion-item style="border-bottom: 1px solid #fff;">
              <ion-datetime displayFormat="DD/MM/YYYY" [value]="task?.ended_at" disabled doneText="OK" cancelText="Cancelar" style="color: #fff;" no-padding></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-label>Descrição:</ion-label>
        </ion-row>
        <ion-row class="project-card-content" padding margin-bottom>
          <ion-textarea disabled readonly rows="4" text-justify [value]="task?.description"></ion-textarea>
        </ion-row>
        <ion-row>
          <ion-col size="4">
            <ion-button *ngIf="task?.status.id === 1" color="success" size="small" expand="block" (click)="finishTask()" style="text-transform: none; font-weight: bold;">
            <ion-icon name="checkmark"></ion-icon><span> Finalizar</span>
          </ion-button>
          <ion-button *ngIf="task?.status.id === 2" color="success" size="small" expand="block" (click)="backToTask()" style="text-transform: none; font-weight: bold;">
            <ion-icon name="checkmark"></ion-icon><span> Voltar a fazer</span>
          </ion-button>
          </ion-col>
          <ion-col size="4">
            <ion-button color="warning" size="small" expand="block" [routerLink]="['/task-edit', task?.id]" style="text-transform: none; font-weight: bold;">
              <ion-icon name="create"></ion-icon><span> Editar</span>
            </ion-button>
          </ion-col>
          <ion-col size="4">
            <ion-button color="danger" size="small" expand="block" (click)="deleteTask()" style="text-transform: none; font-weight: bold;">
              <ion-icon name="trash"></ion-icon><span> Excluir</span>
            </ion-button>
          </ion-col>
        </ion-row>
        <ion-row margin-bottom>
          <ion-col size="12" text-center>
            <ion-button color="light" size="default" expand="block" [routerLink]="[ '/reports', task?.id ]"><span class="azul">Relatório de testes</span></ion-button>
          </ion-col>
        </ion-row>
    </ion-card-header>

    <!-- <ion-card-content class="project-card-content" padding margin>
      <ion-row>
        <ion-col size="6" no-padding>
          <ion-label>
            <ion-icon name="calendar" color="primary"></ion-icon> 12/12/2018
          </ion-label>
        </ion-col>
        <ion-col size="6" text-center no-padding>
          <ion-label>
            <ion-icon name="time" color="primary"></ion-icon> 12:40:12
          </ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-textarea disabled readonly rows="10" text-justify value="Lorem ipsum viverra porta aliquam fringilla ligula nam semper, lacinia rhoncus eleifend pharetra volutpat sagittis tempus, condimentum inceptos vestibulum quisque scelerisque habitant curabitur. maecenas nostra per ad id curabitur"></ion-textarea>
      </ion-row>
      <ion-row padding-top>
        <ion-col size="6">
          <ion-button color="danger" size="small" fill="outline">
            <ion-icon name="close"></ion-icon><span>Excluir</span>
          </ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button color="warning" size="small" fill="outline">
            <ion-icon name="create"></ion-icon><span>Editar</span>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-card-content> -->
    
  </ion-card>
</ion-content>